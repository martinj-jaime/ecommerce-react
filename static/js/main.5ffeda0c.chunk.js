(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{37:function(e,t,a){},39:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var s=a(3),c=a.n(s),n=a(30),r=a.n(n),l=(a(37),a(16)),i=a(9),o=(a(38),a(39),a(12)),d=c.a.createContext({}),b=a(2);var j=function(e){var t=Object(s.useState)(localStorage.getItem("login")),a=Object(o.a)(t,2),c=a[0],n=a[1];return Object(b.jsx)(d.Provider,{value:{userLogin:c,loginUser:function(){n(!0),localStorage.setItem("login",!0)},logoutUser:function(){n(!1),localStorage.removeItem("login")}},children:e.children})};var m=function(){return Object(b.jsx)(d.Consumer,{children:function(e){return Object(b.jsx)("div",{children:Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"container-fluid row",children:[Object(b.jsxs)(l.b,{className:"navbar-brand text-primary h2 m-0",to:"/",children:[Object(b.jsx)("img",{src:"/logo192.png",alt:"..",width:"50",height:"50"})," Home"]}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("ul",{className:"navbar-nav justify-content-end collapse navbar-collapse",id:"navbarNav",children:[e.userLogin&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"dropdown",children:[Object(b.jsx)("button",{className:"btn btn-dark dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(b.jsx)("i",{className:"fas fa-user"})}),Object(b.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:Object(b.jsx)("li",{children:Object(b.jsx)("a",{className:"dropdown-item",onClick:function(){return e.logoutUser(!1)},children:"Salir"})})})]})}),!e.userLogin&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l.b,{className:"nav-link",to:"/login",children:"LogIn"}),Object(b.jsx)(l.b,{className:"nav-link",to:"/signup",children:"SignUp"})]})]})]})})})})}})},u=a(27);u.a.initializeApp({apiKey:"AIzaSyA7BK2f5zmktfLh3NV-TnVsYACHtEq9TdA",authDomain:"react-ecommerce-ee9e4.firebaseapp.com",projectId:"react-ecommerce-ee9e4",storageBucket:"react-ecommerce-ee9e4.appspot.com",messagingSenderId:"401898472950",appId:"1:401898472950:web:685fba84ae482e495b73d7"});var h=u.a;var O=function(){var e=Object(s.useState)(!0),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)([]),r=Object(o.a)(n,2),i=r[0],d=r[1];return Object(s.useEffect)((function(){h.firestore().collection("products").get().then((function(e){d(e.docs),c(!1)}))}),[]),a?Object(b.jsx)("div",{className:"d-flex justify-content-center align-item-center h-6",children:Object(b.jsx)("div",{className:"spinner-border m-5 p-3",role:"status"})}):Object(b.jsx)("div",{className:"row mb-5",children:i.map((function(e){return Object(b.jsx)("div",{className:"col-md-6 mb-4",children:Object(b.jsxs)("div",{className:"card text-align-center",children:[Object(b.jsx)("div",{className:"card-header p-0",children:Object(b.jsx)(l.b,{to:"/home/".concat(e.id),children:Object(b.jsx)("img",{src:e.data().photo_url,className:"imgProductos",alt:""})})}),Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("p",{className:"card-title h4",children:[" ",e.data().name," "]}),Object(b.jsxs)("p",{className:"card-text",children:[" $ ",e.data().price," "]})]})]})},e.id)}))})},x=a(19),p=a(20);var g=function(){var e=Object(s.useState)({email:"",password:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(o.a)(n,2),l=r[0],j=r[1],m=Object(i.g)(),u=Object(s.useContext)(d),O=function(e){c(Object(p.a)(Object(p.a)({},a),{},Object(x.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{children:[l.message&&Object(b.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[l.message,Object(b.jsx)("button",{type:"button",className:"btn btn-close","data-bs-dismiss":"alert","aria-label":"Close",style:{right:0,top:0,position:"absolute",boxSizing:"content-box"},children:Object(b.jsx)("i",{className:"fas fa-times fa-2x"})})]}),Object(b.jsx)("div",{className:"col-md-4 mx-auto",children:Object(b.jsxs)("div",{className:"card text-center",children:[Object(b.jsxs)("div",{className:"card-header",children:[Object(b.jsx)("h2",{children:"Account Login"}),Object(b.jsx)("img",{src:"/logo192.png",className:"logo",alt:"..."})]}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h.auth().signInWithEmailAndPassword(a.email,a.password).then((function(e){u.loginUser(),m.push("/")})).catch((function(e){j(e)}))},children:[Object(b.jsx)("div",{className:"form-group mt-1",children:Object(b.jsx)("input",{type:"email",name:"email",className:"form-control",placeholder:"Email",autoFocus:!0,onChange:O})}),Object(b.jsx)("div",{className:"form-group mt-3",children:Object(b.jsx)("input",{type:"text",name:"password",className:"form-control",placeholder:"Password",autoFocus:!0,onChange:O})}),Object(b.jsx)("div",{className:"form-group mt-3",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"SigIn"})})]})})]})})]})};var f=function(){var e=Object(s.useState)({nombre:"",apellido:"",email:"",password:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],n=Object(s.useState)(""),r=Object(o.a)(n,2),l=r[0],d=r[1],j=Object(s.useState)([]),m=Object(o.a)(j,2),u=m[0],O=(m[1],Object(i.g)()),g=function(e){c(Object(p.a)(Object(p.a)({},a),{},Object(x.a)({},e.target.name,e.target.value)))};return Object(b.jsxs)("div",{children:[u.map((function(e){var t=e.message;return Object(b.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[t,Object(b.jsx)("button",{type:"button",className:"btn btn-close","data-bs-dismiss":"alert","aria-label":"Close",style:{right:0,top:0,position:"absolute",boxSizing:"content-box"},children:Object(b.jsx)("i",{className:"fas fa-times fa-2x"})})]})})),l.message&&Object(b.jsxs)("div",{className:"alert alert-danger alert-dismissible fade show",role:"alert",children:[l.message,Object(b.jsx)("button",{type:"button",className:"btn btn-close","data-bs-dismiss":"alert","aria-label":"Close",style:{right:0,top:0,position:"absolute",boxSizing:"content-box"},children:Object(b.jsx)("i",{className:"fas fa-times fa-2x"})})]}),Object(b.jsx)("div",{className:"col-md-4 mx-auto",children:Object(b.jsxs)("div",{className:"card text-center",children:[Object(b.jsx)("div",{className:"card-header h3",children:"Account Register"}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===a.nombre&&u.push({message:"Please Write a Name"}),""===a.apellido&&u.push({message:"Please Write a Surname"}),h.auth().createUserWithEmailAndPassword(a.email,a.password).then((function(e){console.log(e),console.log(e.user.uid),h.firestore().collection("users").add({name:a.nombre,surname:a.apellido,email:a.email,userId:e.user.uid}).then((function(e){O.push("/login")})).catch((function(e){d(e)}))})).catch((function(e){d(e)}))},children:[Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"text",className:"form-control",placeholder:"Nombre",name:"nombre",value:a.nombre,onChange:g})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"text",className:"form-control",placeholder:"Apellido",name:"apellido",value:a.apellido,onChange:g})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"email",className:"form-control",placeholder:"Email",name:"email",value:a.email,onChange:g})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"current-password",className:"form-control",placeholder:"Password",name:"password",value:a.password,onChange:g})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",children:"SignUp"})})]})})]})})]})};var v=function(e){var t=e.id,a=Object(s.useState)(!0),c=Object(o.a)(a,2),n=c[0],r=c[1],l=Object(s.useState)({}),i=Object(o.a)(l,2),d=i[0],j=i[1],m=Object(s.useState)(""),u=Object(o.a)(m,2),O=u[0],x=u[1];return Object(s.useEffect)((function(){h.firestore().doc("products/"+t).get().then((function(e){j(e.data()),r(!1)}))}),[]),n?Object(b.jsx)("div",{className:"d-flex justify-content-center align-item-center h-6",children:Object(b.jsx)("div",{className:"spinner-border m-5 p-3",role:"status"})}):Object(b.jsxs)("div",{children:[O&&Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[O,Object(b.jsx)("button",{type:"button",className:"btn btn-close","data-bs-dismiss":"alert","aria-label":"Close",style:{right:0,top:0,position:"absolute",boxSizing:"content-box"},children:Object(b.jsx)("i",{className:"fas fa-times fa-2x"})})]})}),Object(b.jsxs)("div",{className:"row border border-3 border-dark",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsx)("img",{src:d.photo_url,className:"imgProducto",alt:""})}),Object(b.jsxs)("div",{className:"col border border-3 border-dark bg-white",children:[Object(b.jsxs)("h3",{className:"mt-2",children:[" ",d.name," "]}),Object(b.jsxs)("p",{className:"h2 text-success",children:[" $ ",d.price," "]}),Object(b.jsxs)("p",{children:[" ",d.description," "]}),Object(b.jsxs)("p",{children:[" Stock: ",d.stock," "]}),Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){return x("Gracias por su compra")},children:"Buy"})]})]})]})};var N=function(){return Object(b.jsx)(j,{children:Object(b.jsxs)(l.a,{children:[Object(b.jsx)("div",{children:Object(b.jsx)(m,{})}),Object(b.jsx)("div",{className:"container mt-5",children:Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{path:"/login",component:g}),Object(b.jsx)(i.b,{path:"/signup",component:f}),Object(b.jsx)(i.b,{path:"/home/:id",render:function(e){return Object(b.jsx)(v,{id:e.match.params.id})}}),Object(b.jsx)(i.b,{path:"/home",component:O}),Object(b.jsx)(i.a,{from:"/",to:"/home"})]})})]})})};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.5ffeda0c.chunk.js.map